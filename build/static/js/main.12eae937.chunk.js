(this["webpackJsonpcook-frontend"]=this["webpackJsonpcook-frontend"]||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},107:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(26),i=a.n(r),c=(a(72),a(2)),l=a(3),o=a(5),m=a(4),u=(a(73),a(7)),p=a.n(u),d=a(11),h=a(20),f=function e(){var t=this;Object(c.a)(this,e),this.signup=function(e,a,n){return t.service.post("/signup",{username:e,password:a,email:n}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/loggedin").then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout",{}).then((function(e){return e.data}))};var a=p.a.create({baseURL:"".concat("https://justcookit.herokuapp.com","/api"),withCredentials:!0});this.service=a},g=a(9),v=(a(91),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password,s=n.state.email,r=n.state.avatar,i=n.state.quote;n.service.signup(t,a,s,r,i).then((function(e){n.setState({username:"",password:"",email:"",avatar:"",quote:""}),n.props.getUser(e),n.props.history.push("/main/")})).catch((function(e){return console.log(e)}))},n.handleChange=function(e){var t=e.target,a=t.name,s=t.value;n.setState(Object(h.a)({},a,s))},n.state={username:"",password:"",email:"",avatar:"",quote:""},n.service=new f,n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container-fluid auth"},s.a.createElement("h2",null,"Sign up!"),s.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"form-div"},s.a.createElement("input",{className:"input-form",type:"text",placeholder:"Create a username",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),s.a.createElement("input",{className:"input-form",type:"email",placeholder:"Enter your email",name:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)}}),s.a.createElement("input",{className:"input-form",type:"password",placeholder:"Create a password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),s.a.createElement("button",{className:"btn log-btn",type:"submit"},"Let's Cook!")),s.a.createElement("div",{className:"already d-flex flex-column mt-3"},s.a.createElement("p",{className:"m-0 mr-3 mb-3"},"Already have account?"),s.a.createElement(g.b,{to:"/login"},"Login!")))}}]),a}(n.Component)),E=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.login(t,a).then((function(e){n.setState({username:"",password:""}),console.log("response in login component:",e),n.props.getUser(e),n.props.showMyRecipes(),n.props.showSavedRecipes(),n.props.history.push("/main")})).catch((function(e){return console.log("the error:",e)}))},n.handleChange=function(e){var t=e.target,a=t.name,s=t.value;n.setState(Object(h.a)({},a,s))},n.state={username:"",password:""},n.service=new f,n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container-fluid auth"},s.a.createElement("h2",null,"Login!"),s.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"form-div"},s.a.createElement("input",{className:"input-form",type:"text",placeholder:"Your username",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),s.a.createElement("input",{className:"input-form",type:"password",placeholder:"Your password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),s.a.createElement("button",{className:"btn log-btn",type:"submit"},"Let's Cook!")),s.a.createElement("div",{className:"already d-flex flex-column mt-3"},s.a.createElement("p",{className:"m-0 mr-3 mb-3"},"Don't have an account yet?"),s.a.createElement(g.b,{to:"/signup"},"Sign up!")))}}]),a}(n.Component),b=(a(97),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"home container-fluid"},s.a.createElement("h1",null,"Cook!"),s.a.createElement("div",{className:"d-flex w-100 justify-content-center"},s.a.createElement(g.b,{to:"/signup"},s.a.createElement("button",{className:"btn btn-home"},"Sign up")),s.a.createElement(g.b,{to:"/login"},s.a.createElement("button",{className:"btn btn-home"},"Login"))))}}]),a}(n.Component)),N=a(32),y=a(14),k=(a(98),a(57),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("nav",{className:"navbar fixed-bottom col"},s.a.createElement(g.b,{to:"/search"},s.a.createElement("i",{className:"fas fa-search"})),s.a.createElement(g.b,{to:"/add"},s.a.createElement("i",{className:"fas fa-plus"})),s.a.createElement("i",{className:"far fa-bell"}),s.a.createElement(g.b,{to:"/profile"},s.a.createElement("i",{className:"far fa-user"})))}}]),a}(n.Component)),I=(a(99),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("nav",{className:"navbar fixed-top col"},s.a.createElement(g.b,{to:"/main"},s.a.createElement("img",{src:"/images/cooking.png",alt:"logo"})),s.a.createElement("p",null,this.props.text),s.a.createElement(g.b,{to:"/users"},s.a.createElement("img",{src:"/images/search.png",alt:"search"})))}}]),a}(n.Component)),w=a(110),j=a(111),C=a(109),O=(a(40),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).deleteRecipe=function(){"number"===typeof n.props.recipeId?(console.log(n.props.id),p.a.delete("".concat("https://justcookit.herokuapp.com","/api/profile/savedApiRecipes/").concat(n.props.id),{withCredentials:!0}).then((function(e){n.props.updateRecipes(e)}))):!1===n.props.recipeOrigin?p.a.delete("".concat("https://justcookit.herokuapp.com","/api/profile/savedInternalRecipes/").concat(n.props.id),{withCredentials:!0}).then((function(e){console.log("response when delete",e),console.log(n.props.id),n.props.updateRecipes(e)})):p.a.delete("".concat("https://justcookit.herokuapp.com","/api/profile/recipe/").concat(n.props.id),{withCredentials:!0}).then((function(e){n.props.updateMyRecipes(e)}))},n.state={saved:!1,loggedInUser:n.props.loggedInUser,savedRecipes:n.props.saved,myRecipes:n.props.myRecipes},n}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"recipe-div"},s.a.createElement("div",{className:"info-file"},s.a.createElement("img",{className:"my-recipe-image mr-2",src:this.props.src,alt:this.props.title}),s.a.createElement("p",{className:"m-0 text-title"},this.props.title)),s.a.createElement("div",{className:"recipes-icons mx-2"},s.a.createElement(g.b,{to:"/recipe/".concat(this.props.recipeId)},s.a.createElement("i",{className:"fas fa-info info-icon-profile"})),s.a.createElement("i",{className:"info-icon-profile fas fa-trash",onClick:this.deleteRecipe}),"                    ")))}}]),a}(n.Component)),S=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).save=function(){n.state.saved?p.a.delete("".concat("https://justcookit.herokuapp.com","/api/profile/savedInternalRecipes/").concat(n.state.savedRecipeId),{withCredentials:!0}).then((function(e){n.setState({saved:!1})})):(console.log("save button clicked"),p.a.post("".concat("https://justcookit.herokuapp.com","/api/profile/savedRecipes"),{recipeId:n.props.id},{withCredentials:!0}).then((function(e){n.setState({saved:!0,savedRecipeId:e.data._id})})))},n.state={loggedInUser:n.props.logged,userId:n.props.logged._id,saved:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat("https://justcookit.herokuapp.com","/api/profile/savedRecipes"),{withCredentials:!0}).then((function(t){var a,n=t.data.filter((function(e){return!e.title})).some((function(t){return t.recipe._id===e.props.id&&(a=t._id),t.recipe._id===e.props.id}));e.setState({saved:n,savedRecipeId:a})}))}},{key:"render",value:function(){var e;return e=this.props.recipeOwner===this.state.userId?null:s.a.createElement("p",null,s.a.createElement("i",{className:this.state.saved?"icon-main fas fa-bookmark":"icon-main far fa-bookmark",onClick:this.save})),s.a.createElement("div",{className:"col-12 col-md-3 mt-2 d-flex mt-md-4 "},s.a.createElement("div",{className:"main-card card"},s.a.createElement("div",{className:"top-card-main"},s.a.createElement("img",{className:"avatar-main",src:this.props.avatar,alt:this.props.OwnerUsername}),s.a.createElement(g.b,{to:"/users/".concat(this.props.recipeOwner)},s.a.createElement("p",{className:"main-card-user"},"@"+this.props.username))),s.a.createElement(g.b,{to:"/recipe/".concat(this.props.id)},s.a.createElement("img",{className:"recipe-image-main",src:this.props.src,alt:this.props.title})),s.a.createElement("div",{className:"card-body main-recipe-description"},s.a.createElement("p",{className:"recipe-title-main text-center"},this.props.title),s.a.createElement("div",{className:"main-icons"},s.a.createElement("p",null,s.a.createElement("i",{className:"icon-main fas fa-utensils mr-2"}),this.props.servings),s.a.createElement("p",null,s.a.createElement("i",{className:"icon-main far fa-clock mr-2"}),this.props.readyInMinutes),e))))}}]),a}(n.Component),R=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.setState({show:!1})},n.handleOpen=function(){n.setState({show:!0})},n.handleEditOpen=function(){n.setState({editQuote:!0})},n.handleChangeQuote=function(e){n.setState({quote:e.target.value})},n.handleSubmit=function(e){e.preventDefault();var t=n.state.quote;p.a.put("".concat("https://justcookit.herokuapp.com","/api/profile/editQuote"),{quote:t},{withCredentials:!0}).then((function(e){return n.setState({loggedInUser:Object(N.a)(Object(N.a)({},n.state.loggedInUser),{},{quote:e.data.quote}),editQuote:!1})})).catch((function(e){return console.log(e)}))},n.handleFileUpLoad=function(e){var t=new FormData;t.append("avatar",e.target.files[0]),console.log("upload data",e.target.files[0]),p.a.put("".concat("https://justcookit.herokuapp.com","/api/profile/updateavatar"),t,{withCredentials:!0}).then((function(e){console.log("response:",e),n.setState({loggedInUser:Object(N.a)(Object(N.a)({},n.state.loggedInUser),{},{avatar:e.data.avatar})})}))},n.showMyRecipes=function(){p.a.get("".concat("https://justcookit.herokuapp.com","/api/profile/recipes"),{withCredentials:!0}).then((function(e){n.setState({myRecipes:e.data})}))},n.showSavedRecipes=function(){p.a.get("".concat("https://justcookit.herokuapp.com","/api/profile/savedRecipes"),{withCredentials:!0}).then((function(e){console.log("response saved recipes",e),n.setState({savedRecipes:e.data})}))},n.state={loggedInUser:n.props.user,loggedUserId:n.props.user._id,avatar:n.props.user.avatar,show:!1,editQuote:!1,quote:n.props.user.quote,savedRecipes:n.props.saved,myRecipes:n.props.myRecipes,key:1},n.handleSelect=n.handleSelect.bind(Object(y.a)(n)),n}return Object(l.a)(a,[{key:"handleSelect",value:function(e){this.setState({key:e})}},{key:"componentDidMount",value:function(){this.showMyRecipes(),this.showSavedRecipes()}},{key:"render",value:function(){var e=this;console.log(this.state);var t,a,n="",r="";return this.state.editQuote?(n=s.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"form-div-edit"},s.a.createElement("input",{type:"text",name:"quote",placeholder:this.state.loggedInUser.quote,className:"quote-input",onChange:function(t){return e.handleChangeQuote(t)}}),s.a.createElement("input",{type:"submit",value:"Save",className:"save btn"})),r=null):(n=s.a.createElement("p",{className:"quote"},'"',this.state.loggedInUser.quote,'"'),r=s.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return e.handleEditOpen()}})),t=this.state.myRecipes?this.state.myRecipes.slice(0).reverse().map((function(t,a){return s.a.createElement(O,{key:a,title:t.title,src:t.imagePath,servings:t.servings,readyInMinutes:t.readyInMinutes,loggedInUser:e.state.loggedInUser,updateMyRecipes:e.showMyRecipes,id:t._id,recipeId:t._id,recipeOrigin:!0})})):null,a=this.state.savedRecipes?this.state.savedRecipes.slice(0).reverse().map((function(t,a){return console.log(t),s.a.createElement(O,{key:a,title:t.title||t.recipe.title,src:t.image||t.recipe.imagePath,servings:t.servings||t.recipe.servings,readyInMinutes:t.readyInMinutes||t.recipe.readyInMinutes,loggedInUser:e.state.loggedInUser,updateSaved:e.updateMyRecipes,id:t._id,recipeId:t.recipeId||t.recipe._id,updateRecipes:e.showSavedRecipes,recipeOrigin:!1})})):null,s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement(I,{user:this.state.loggedInUser,text:"Profile",link:"/main"})),s.a.createElement("div",{className:"row profile-container-div mb-5"},s.a.createElement("section",{className:"profile-info-div"},s.a.createElement("div",{className:"col col-md-2 user-data"},s.a.createElement("img",{className:"profile-picture",src:this.state.loggedInUser.avatar,alt:this.state.loggedInUser.username}),s.a.createElement("img",{className:"edit-icon",src:"/images/person.png",alt:"edit-profile-icon",onClick:function(){return e.handleOpen()}}),s.a.createElement(w.a,{show:this.state.show,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},s.a.createElement(w.a.Header,null,s.a.createElement(w.a.Title,{className:"w-100"},s.a.createElement("i",{className:"far fa-window-close float-right",onClick:function(){return e.handleClose()}}))),s.a.createElement(w.a.Body,null,s.a.createElement("input",{type:"file",id:"file",name:"avatar",onChange:this.handleFileUpLoad,className:"custom-file-input custom-file-input-profile"})))),s.a.createElement("div",{className:"col-8 user-nickname"},s.a.createElement(g.b,{to:"/logout"},s.a.createElement("i",{className:"fas fa-power-off float-right"})),s.a.createElement("p",{className:"nickname"},"@",this.state.loggedInUser.username),s.a.createElement("div",{className:"d-flex align-items-center"},n,r),s.a.createElement("hr",null))),s.a.createElement("div",{className:"recipes-list row"},s.a.createElement("div",{className:"col col-md-6 tabs ml-2 mt-3"},s.a.createElement(j.a,{className:"tab-master",activeKey:this.state.key,onSelect:this.handleSelect},s.a.createElement(C.a,{className:"tab-second",eventKey:1,title:"My Recipes"},t),s.a.createElement(C.a,{className:"tab-second",eventKey:2,title:"Favorites"},a)))))),s.a.createElement("div",{className:"row"},s.a.createElement(k,{user:this.state.loggedInUser})))}}]),a}(n.Component),U=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).service=new f,n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return this.service.logout().then((function(t){e.props.getUser(null)})).catch((function(e){return console.log(e)})),s.a.createElement(d.a,{to:"/login"})}}]),a}(n.Component),x=(a(103),a(59),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"ingredient-div",onClick:function(){return e.props.addIndredients(e.props.item)}},s.a.createElement("img",{className:"ingredient-image",src:"https://spoonacular.com/cdn/ingredients_100x100/".concat(this.props.photo),alt:this.props.item}),s.a.createElement("p",null,this.props.item))}}]),a}(n.Component)),M=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"ingredient-div"},s.a.createElement("i",{className:"fas fa-trash-alt",onClick:function(){return e.props.deleteItem(e.props.item)}}),s.a.createElement("p",null,this.props.item))}}]),a}(n.Component),_=a(22),A=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).open=function(){console.log("clicked"),n.setState({open:!n.state.open})},n.save=function(){n.state.saved?p.a.delete("".concat("https://justcookit.herokuapp.com","/api/profile/savedApiRecipes/").concat(n.state.recipeId),{withCredentials:!0}).then((function(e){n.setState({saved:!1}),n.props.showSavedRecipes()})):p.a.post("".concat("https://justcookit.herokuapp.com","/api/profile/savedRecipes"),{recipeId:n.props.id},{withCredentials:!0}).then((function(e){var t=Object(_.a)(n.state.savedRecipes);t.push(e.data),n.setState({saved:!0,savedRecipes:t}),n.props.showSavedRecipes(),console.log("state after save:",n.state.savedRecipes)}))};var s,r,i=!1;return n.props.saved&&(i=n.props.saved.some((function(e){return!!e.recipeId&&e.recipeId===n.props.id})),r=(s=n.props.saved.find((function(e){return e.recipeId===n.props.id})))?s._id:null),n.state={open:!1,saved:i,savedRecipes:n.props.saved,recipeId:r},n.open=n.open.bind(Object(y.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"recipe-card col-md-3"},s.a.createElement("h5",{className:"card-title recipe-title d-flex align-items-center justify-content-center"},this.props.title),s.a.createElement("img",{className:"recipe-image",src:this.props.src,alt:this.props.title}),s.a.createElement("div",{className:"card-icons"},s.a.createElement("div",{className:"wrapper"},s.a.createElement("i",{className:"icon far fa-clock"}),s.a.createElement("span",{className:"badge minuts"},this.props.minutes)),s.a.createElement("div",{className:"wrapper"},s.a.createElement("i",{className:"icon fas fa-utensils"}),s.a.createElement("span",{className:"badge"},this.props.serving)),s.a.createElement("div",{className:"wrapper"},s.a.createElement("i",{className:this.state.open?"icon fas fa-question-circle":"icon far fa-question-circle",onClick:this.open}),s.a.createElement("span",{className:"badge"},this.props.missed)),s.a.createElement(g.b,{to:"/recipe/".concat(this.props.id)},s.a.createElement("i",{className:"icon fas fa-info"})),s.a.createElement("i",{className:this.state.saved?"icon fas fa-bookmark":"icon far fa-bookmark",onClick:this.save})),s.a.createElement("div",{className:this.state.open?"panel-collapse":"panel-collapse panel-close"},s.a.createElement("ul",null,this.props.missing.map((function(e,t){return s.a.createElement("li",{className:"miss-ingredients-list",key:t},e.name)})))))}}]),a}(n.Component),D=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({ingredient:e.target.value.toLowerCase()})},n.handleClick=function(e){var t=n.state.listAllIngredients;t.push(e),n.setState({listAllIngredients:t,ingredient:""})},n.getSingleRecipe=function(e){console.log("get Single called"),console.log("recipe",e)},n.getIngredients=function(e){var t=e.target.value.toLowerCase();p()({method:"GET",url:"https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/food/ingredients/autocomplete",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"spoonacular-recipe-food-nutrition-v1.p.rapidapi.com","x-rapidapi-key":"3ae8633d0fmshea232df942d8d7bp19b871jsn75705b922f90",useQueryString:!0},params:{number:"5",query:t}}).then((function(e){n.setState({data:e.data,ingredient:t})}))},n.deleteItem=function(e){var t=n.state.listAllIngredients,a=t.indexOf(e);a>-1&&t.splice(a,1),n.setState({listAllIngredients:t})},n.letsCook=function(){var e=n.state.listAllIngredients.toString();console.log("param:",e),p()({method:"GET",url:"https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/complexSearch",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"spoonacular-recipe-food-nutrition-v1.p.rapidapi.com","x-rapidapi-key":"3ae8633d0fmshea232df942d8d7bp19b871jsn75705b922f90",useQueryString:!0},params:{addRecipeInformation:"true",instructionsRequired:"true",number:"12",includeIngredients:e,fillIngredients:"true"}}).then((function(e){console.log("responseRecipes: ",e.data),console.log("responseRecipes results: ",e.data.results),n.setState({recipes:e.data.results,isClicked:!n.state.isClicked})})).then((function(){console.log("this.state.recipes: ",n.state.recipes);var e=n.state.listAllIngredients;n.props.ingredients(e)}))},n.state={ingredient:"",listAllIngredients:[],isClicked:!1,savedRecipes:n.props.saved},n.handleClick=n.handleClick.bind(Object(y.a)(n)),n.getIngredients=n.getIngredients.bind(Object(y.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this;this.state.data&&(e=this.state.data.map((function(e,a){return s.a.createElement(x,{key:e.name,item:e.name,photo:e.image,addIndredients:t.handleClick})})));var a,n,r,i="";return this.state.listAllIngredients.length>0&&(i=s.a.createElement("p",{className:"selected"},"Cook with...")),this.state.listAllIngredients.length>0&&(a=this.state.listAllIngredients.map((function(e,a){return s.a.createElement(M,{key:a,item:e,deleteItem:t.deleteItem})}))),this.state.listAllIngredients.length>2&&(n=s.a.createElement("button",{className:"btn btn-letscook",type:"submit",onClick:this.letsCook},"Let's Cook!")),this.state.isClicked&&(r=this.state.recipes.map((function(e,a){return s.a.createElement(A,{id:e.id,key:a,title:e.title,src:e.image,missed:e.missedIngredientCount,missing:e.missedIngredients,minutes:e.readyInMinutes+"'",serving:e.servings,recipes:e,saved:t.state.savedRecipes,user:t.props.user,showSavedRecipes:t.props.showSavedRecipes})}))),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"mb-5 mt-1"},s.a.createElement("div",{className:"row"},s.a.createElement(I,{user:this.state.loggedInUser,text:"Search",link:"/profile"})),s.a.createElement("div",null,s.a.createElement("div",{className:"row mt-5"},s.a.createElement("div",{className:"col-12 input-type-search text-center"},s.a.createElement("p",null,s.a.createElement("input",{placeholder:"Type to search and click to select!",autoComplete:"off",className:"input-search",type:"text",name:"ingredients",onChange:this.getIngredients,value:this.state.ingredient})))),s.a.createElement("div",{className:"row search-main"},s.a.createElement("div",{className:"col col-md-3"},e),s.a.createElement("div",{className:"col col-md-3"},i,a)),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col cookButton-div"},n)),s.a.createElement("div",{className:"row recipe-box"},r))),s.a.createElement("div",{className:"row"},s.a.createElement(k,{user:this.state.loggedInUser})))}}]),a}(n.Component),q=(a(41),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){var a=Object(_.a)(n.state.extendedIngredients);a[e][t.target.name]=t.target.value,n.setState({extendedIngredients:a}),n.props.liftIngredientsState(a)},n.addInput=function(){n.setState({extendedIngredients:[].concat(Object(_.a)(n.state.extendedIngredients),[{name:"",amount:"",unit:""}])})},n.removeInput=function(e){var t=Object(_.a)(n.state.extendedIngredients);t.splice(e,1),n.setState({extendedIngredients:t}),n.props.liftIngredientsState(t)},n.state={extendedIngredients:[{name:"",amount:"",unit:""}]},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.extendedIngredients;return s.a.createElement("div",{className:"inputs-ingredients"},t.map((function(t,a){return s.a.createElement("div",{key:a,className:"form-group input-ingredients row"},s.a.createElement("div",{className:"add-font col-12 mb-0"},s.a.createElement("p",null,"Amount:"),s.a.createElement("p",null,"Unit:"),s.a.createElement("p",null,"Name:")),s.a.createElement("input",{className:"add-input add-number col-3",type:"number",name:"amount",key:"amount"+a,value:t.amount,autoComplete:"off",onChange:function(t){return e.handleChange(a,t)}}),s.a.createElement("input",{className:"add-input col-3 mx-1",type:"text",name:"unit",key:"unit"+a,value:t.unit,autoComplete:"off",onChange:function(t){return e.handleChange(a,t)}}),s.a.createElement("input",{className:"add-input col mx-1",type:"text",name:"name",key:"name"+a,value:t.name,autoComplete:"off",onChange:function(t){return e.handleChange(a,t)}}),s.a.createElement("i",{className:"icon-add col-1 fas fa-trash text-center",onClick:function(){return e.removeInput(a)}}),s.a.createElement("i",{className:"fas fa-plus col-1 add-ingredient",onClick:e.addInput}))})))}}]),a}(n.Component)),F=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){var a=Object(_.a)(n.state.analyzedInstructions[0].steps);a[e][t.target.name]=t.target.value,n.setState({analyzedInstructions:[{steps:a}]}),n.props.liftMethodsState([{steps:a}])},n.addInput=function(){n.setState({analyzedInstructions:[{steps:[].concat(Object(_.a)(n.state.analyzedInstructions[0].steps),[{number:"",step:""}])}]})},n.removeInput=function(e){var t=Object(_.a)(n.state.analyzedInstructions[0].steps);t.splice(e,1);var a=Object(_.a)(n.state.analyzedInstructions);a[0].steps=t,console.log("arr",a),n.setState({analyzedInstructions:a}),n.props.liftMethodsState(t)},n.state={analyzedInstructions:[{steps:[{number:"",step:""}]}]},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.analyzedInstructions;return s.a.createElement("div",{className:"inputs-ingredients"},t[0].steps.map((function(t,a){return s.a.createElement("div",{key:a,className:"form-group input-ingredients row"},s.a.createElement("input",{className:"add-input add-number col-2",type:"number",name:"number",value:t.number,key:"methodNumber"+a,placeholder:a+1,autoComplete:"off",onChange:function(t){return e.handleChange(a,t)}}),s.a.createElement("input",{className:"add-input add-number col-7 mx-1",type:"text",placeholder:"Instruction",name:"step",value:t.step,key:"methodStep"+a,autoComplete:"off",onChange:function(t){return e.handleChange(a,t)}}),s.a.createElement("i",{className:"icon-add col-1 fas fa-trash text-center",onClick:function(){return e.removeInput(a)}}),s.a.createElement("i",{className:"fas fa-plus col-1 add-ingredient",onClick:e.addInput}))})))}}]),a}(n.Component),z=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getRecipeDetails=function(){p.a.get("".concat("https://justcookit.herokuapp.com","/api/recipes/").concat(n.state.id)).then((function(e){n.setState({recipe:e.data,title:e.data.title,show:!1})}))},n.handleOpen=function(){n.setState({show:!0})},n.handleClose=function(){n.setState({show:!1})},n.handleChange=function(e){console.log(e.target.name,e.target.value),n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleFormSubmit=function(e){e.preventDefault();var t={owner:n.state.recipe.owner,title:n.state.title,servings:n.state.recipe.servings,readyInMinutes:n.state.recipe.readyInMinutes,extendedIngredients:n.state.recipe.extendedIngredients,analyzedInstructions:n.state.recipe.analyzedInstructions,imagePath:n.state.recipe.imagePath};p.a.put("".concat("https://justcookit.herokuapp.com","/api/recipe/").concat(n.state.id),t,{withCredentials:!0}).then((function(e){console.log("response",e),n.props.history.push("/profile"),n.getRecipeDetails()}))},n.state={loggedInUser:n.props.user,id:n.props.match.params.id},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getRecipeDetails()}},{key:"render",value:function(){var e,t,a,n,r,i,c=this;return this.state.recipe?(e=this.state.recipe.imagePath,t=this.state.recipe.title,a=this.state.recipe.servings,n=this.state.recipe.readyInMinutes,r=this.state.recipe.extendedIngredients.map((function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("input",{className:"add-input add-number ",type:"number",placeholder:e.amount,name:"amount",onChange:function(e){return c.handleChange(e)}}),s.a.createElement("input",{className:"add-input",type:"text",placeholder:e.unit,name:"unit",onChange:function(e){return c.handleChange(e)}}),s.a.createElement("input",{className:"add-input",type:"text",placeholder:e.name,name:"name",onChange:function(e){return c.handleChange(e)}}))})),i=this.state.recipe.analyzedInstructions[0].steps.map((function(e,t){return s.a.createElement("li",{className:"mb-2",key:t},s.a.createElement("input",{className:"w-100 add-input",type:"text",placeholder:e.number,name:"number",onChange:function(e){return c.handleChange(e)}}),s.a.createElement("input",{className:"w-100 add-input",type:"text",placeholder:e.step,name:"step",onChange:function(e){return c.handleChange(e)}}))}))):(e=null,t=null,a=null,n=null,n=null,r=null),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"mb-5 mt-5"},s.a.createElement("div",{className:"row"},s.a.createElement(I,{user:this.state.loggedInUser,text:"Edit",link:"/main"})),s.a.createElement("div",{className:"row add"},s.a.createElement("div",{className:"col-12"},s.a.createElement("form",{onSubmit:this.handleFormSubmit,autoComplete:"new-search"},s.a.createElement("div",{className:"mb-4"},s.a.createElement("div",null,s.a.createElement("img",{className:"w-100",src:e,alt:"exemplo",onClick:function(){return c.handleOpen()}}),s.a.createElement(w.a,{show:this.state.show,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},s.a.createElement(w.a.Header,null,s.a.createElement(w.a.Title,{className:"w-100"},s.a.createElement("i",{className:"far fa-window-close float-right",onClick:function(){return c.handleClose()}}))),s.a.createElement(w.a.Body,null,s.a.createElement("input",{type:"file",className:"",name:"image",id:"file",multiple:!0,onChange:function(e){return c.handleChange(e)}})))),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"add-input w-100",type:"text",placeholder:t,value:this.state.title,name:"title",onChange:function(e){return c.handleChange(e)}})),s.a.createElement("div",{className:"small-info w-100 justify-content-around mb-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("i",{className:"icon-add far fa-clock mr-2"}),s.a.createElement("input",{className:"add-input add-number",type:"number",placeholder:n,name:"readyInMinutes",onChange:function(e){return c.handleChange(e)}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("i",{className:"icon-add fas fa-utensils mr-2"}),s.a.createElement("input",{className:"add-input add-number",type:"number",placeholder:a,name:"servings",onChange:function(e){return c.handleChange(e)}})),s.a.createElement("div",null,s.a.createElement("p",null,"Ingredients"),r,s.a.createElement("p",null,"Instructions"),i))),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("input",{className:"btn btn-save-add mt-3",type:"submit",value:"Save",onSubmit:this.handleFormSubmit})))))),s.a.createElement("div",{className:"row"},s.a.createElement(k,{user:this.state.loggedInUser})))}}]),a}(n.Component),T=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t,a=n.state.form;a.set(e.target.name,e.target.value),n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"form",a),t))},n.handleOpen=function(){n.setState({show:!0})},n.handleClose=function(){n.setState({show:!1})},n.liftIngredientsState=function(e){var t=n.state.form;t.set("extendedIngredients",JSON.stringify(e)),n.setState({extendedIngredients:e,form:t})},n.liftMethodsState=function(e){var t=n.state.form;t.set("analyzedInstructions",JSON.stringify(e)),n.setState({analyzedInstructions:e,form:t})},n.handleFormSubmit=function(e){e.preventDefault(),console.log("salvando"),p.a.post("".concat("https://justcookit.herokuapp.com","/api/profile/recipes"),n.state.form,{withCredentials:!0}).then((function(e){console.log("response",e),n.setState({title:"",readyInMinutes:0,servings:0,extendedIngredients:[],analyzedInstructions:[],image:""}),n.props.history.push("/main")}))},n.handleFileUpLoad=function(e){var t=n.state.form;t.set("image",e.target.files[0]),n.setState({form:t,photo:e.target.files[0]})};var s=new FormData;return s.append("owner",n.props.user._id),n.state={loggedInUser:n.props.user,title:"",readyInMinutes:0,servings:0,extendedIngredients:[],analyzedInstructions:[],image:"",owner:n.props.user._id,form:s,show:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this;return this.state.photo?(console.log(this.state.photo),e=this.state.photo.name):e="/images/photo.png",s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"mb-5 mt-5"},s.a.createElement("div",{className:"row"},s.a.createElement(I,{user:this.state.loggedInUser,text:"Add a Recipe",link:"/main"})),s.a.createElement("div",{className:"row add"},s.a.createElement("div",{className:"col-12"},s.a.createElement("form",{onSubmit:this.handleFormSubmit,autoComplete:"new-search"},s.a.createElement("div",{className:"d-flex justify-content-around align-items-center mb-4"},s.a.createElement("div",null,s.a.createElement("img",{className:"file-to-upload",src:e,alt:"exemplo",onClick:function(){return t.handleOpen()}}),s.a.createElement(w.a,{show:this.state.show,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},s.a.createElement(w.a.Header,null,s.a.createElement(w.a.Title,{className:"w-100"},s.a.createElement("i",{className:"far fa-window-close float-right",onClick:function(){return t.handleClose()}}))),s.a.createElement(w.a.Body,null,s.a.createElement("input",{type:"file",className:"",name:"image",id:"file",multiple:!0,onChange:function(e){return t.handleFileUpLoad(e)}})))),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"add-input w-100",type:"text",placeholder:"Title",name:"title",onChange:function(e){return t.handleChange(e)}}))),s.a.createElement("div",null,s.a.createElement("div",{className:"small-info d-flex w-100 justify-content-around mb-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("i",{className:"icon-add far fa-clock mr-2"}),s.a.createElement("input",{className:"add-input add-number",type:"number",placeholder:"in minutes",name:"readyInMinutes",onChange:function(e){return t.handleChange(e)}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("i",{className:"icon-add fas fa-utensils mr-2"}),s.a.createElement("input",{className:"add-input add-number",type:"number",placeholder:"Servings",name:"servings",onChange:function(e){return t.handleChange(e)}}))),s.a.createElement("p",{className:"add-titles"},"Ingredients:"),s.a.createElement(q,{liftIngredientsState:this.liftIngredientsState}),s.a.createElement("p",{className:"add-titles"},"Methods:"),s.a.createElement(F,{liftMethodsState:this.liftMethodsState}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("input",{className:"btn btn-save-add mt-3",type:"submit",value:"Send",onSubmit:this.handleFormSubmit}))))))),s.a.createElement("div",{className:"row"},s.a.createElement(k,{user:this.state.loggedInUser})))}}]),a}(n.Component),L=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).getRecipeDetails=function(){p.a.get("".concat("https://justcookit.herokuapp.com","/api/recipes/").concat(n.state.id)).then((function(e){n.setState({recipe:e.data})}))},n.save=function(){n.state.saved?"api"==n.state.origin?p.a.delete("".concat("https://justcookit.herokuapp.com","/api/profile/savedApiRecipes/").concat(n.state.savedId),{withCredentials:!0}).then((function(e){console.log("favorito excluido",e.data),n.props.showSavedRecipes(),n.setState({saved:!1})})):p.a.delete("".concat("https://justcookit.herokuapp.com","/api/profile/savedInternalRecipes/").concat(n.state.savedId),{withCredentials:!0}).then((function(e){console.log("favorito excluido",e.data),n.props.showSavedRecipes(),n.setState({saved:!1})})):console.log("salver favorito")},n.editRecipe=function(){return s.a.createElement(z,{user:n.state.loggedInUser,recipe:n.state.recipe})};var r=!1,i="internal",l="";return n.props.savedRecipes&&(r=n.props.savedRecipes.some((function(e){return e.recipeId?(e.recipeId==n.props.match.params.id&&(i="api",l=e._id),e.recipeId==n.props.match.params.id):(e.recipe._id==n.props.match.params.id&&(l=e._id),e.recipe._id==n.props.match.params.id)}))),n.state={saved:r,loggedInUser:n.props.user,id:n.props.match.params.id,savedRecipes:n.props.savedRecipes,origin:i,savedId:l},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getRecipeDetails()}},{key:"render",value:function(){var e,t,a,n,r,i,c,l,o;return this.state.recipe?(console.log(this.state.recipe),e=s.a.createElement("p",{className:"details-title mb-0"},this.state.recipe.title||this.state.recipe.recipe.title),t=this.state.recipe.image||this.state.recipe.imagePath||this.state.recipe.recipe.imagePath,a=this.state.recipe.servings,n=this.state.recipe.readyInMinutes,r=this.state.recipe.extendedIngredients.map((function(e,t){return s.a.createElement("li",{key:t},e.amount," ",e.unit," ",e.name)})),i=this.state.recipe.analyzedInstructions[0].steps.map((function(e,t){return s.a.createElement("li",{className:"li-details mb-2",key:t},e.number,") ",e.step)})),this.state.recipe.owner?this.state.loggedInUser._id!==this.state.recipe.owner._id?(o=this.state.recipe.owner._id,c=s.a.createElement(g.b,{to:"/users/".concat(o)},s.a.createElement("li",null,"@",this.state.recipe.owner.username)),l=s.a.createElement("i",{className:this.state.saved?"icon fas fa-bookmark":"icon far fa-bookmark",onClick:this.save})):l=s.a.createElement(g.b,{to:"/recipe/".concat(this.state.id,"/edit")},s.a.createElement("i",{className:"fas fa-pencil-alt",onClick:this.editRecipe})):(c=null,l=s.a.createElement("i",{className:this.state.saved?"icon fas fa-bookmark":"icon far fa-bookmark",onClick:this.save}),o=null)):(e=null,t=null,a=null,n=null,r=null,l=null),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"mb-5 mt-5"},s.a.createElement("div",{className:"row"},s.a.createElement(I,{user:this.state.loggedInUser,text:"How to cook",link:"/main"})),s.a.createElement("div",{className:"row recipe-detail-div"},s.a.createElement("div",{className:"col-12 d-flex justify-content-around align-items-center mb-3"},e,l),s.a.createElement("div",{className:"col-6"},s.a.createElement("img",{className:"img-details",src:t,alt:e})),s.a.createElement("div",{className:"col-6"},s.a.createElement("ul",{className:"details-list"},c,s.a.createElement("li",null,s.a.createElement("i",{className:"far fa-clock mr-1"})," ",n," minutes"),s.a.createElement("li",null,s.a.createElement("i",{className:"fas fa-utensils mr-2"}),a," servings"))),s.a.createElement("div",{className:"col-12 mt-4"},s.a.createElement("p",{className:"details-info-title"},"Ingredients:"),s.a.createElement("ul",null,r),s.a.createElement("p",{className:"details-info-title"},"How to cook:"),s.a.createElement("ul",null,i)))),s.a.createElement("div",{className:"row"},s.a.createElement(k,{user:this.state.loggedInUser})))}}]),a}(n.Component),P=(a(104),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSearch=n.handleSearch.bind(Object(y.a)(n)),n}return Object(l.a)(a,[{key:"handleSearch",value:function(e){this.props.functionToFilter(e.target.value)}},{key:"render",value:function(){return s.a.createElement("div",{className:"mb-2 mt-5"},s.a.createElement("form",{className:"",autoComplete:"new-search"},s.a.createElement("input",{autoComplete:"off",type:"text",name:"search",onChange:this.handleSearch})))}}]),a}(n.Component)),Q=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this;return e=this.props.filter?this.props.users.filter((function(e){return e.username.includes(t.props.filter.toLowerCase())})).map((function(e,t){return s.a.createElement(g.b,{key:t,to:"/users/".concat(e._id)},s.a.createElement("li",{className:"list-avatar",key:t},s.a.createElement("img",{className:"find-avatar",src:e.avatar,alt:e.username}),"@",e.username))})):this.props.users.map((function(e,t){return s.a.createElement(g.b,{key:t,to:"/users/".concat(e._id)},s.a.createElement("li",{className:"list-avatar",key:t},s.a.createElement("img",{className:"find-avatar",src:e.avatar,alt:e.username}),"@",e.username))})),s.a.createElement("div",{className:"mb-5"},s.a.createElement("ul",null,e))}}]),a}(n.Component),B=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loggedInUser:n.props.user,users:[]},n.getAllUsers=n.getAllUsers.bind(Object(y.a)(n)),n.filter=n.filter.bind(Object(y.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getAllUsers()}},{key:"getAllUsers",value:function(){var e=this;p.a.get("".concat("https://justcookit.herokuapp.com","/api/users")).then((function(t){e.setState({users:t.data})}))}},{key:"filter",value:function(e){this.setState({filter:e})}},{key:"render",value:function(){return s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement(I,{user:this.state.loggedInUser,text:"Cooks",link:"/profile"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement(P,{users:this.state.users,functionToFilter:this.filter})),s.a.createElement("div",{className:"col-12"},s.a.createElement("ul",null,s.a.createElement(Q,{users:this.state.users,filter:this.state.filter}))))),s.a.createElement("div",{className:"row"},s.a.createElement(k,{user:this.state.loggedInUser})))}}]),a}(n.Component),J=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loggedUser:n.props.user,id:n.props.match.params.id},n.getUserData=n.getUserData.bind(Object(y.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getUserData()}},{key:"getUserData",value:function(){var e=this;p.a.get("".concat("https://justcookit.herokuapp.com","/api/users/").concat(this.state.id)).then((function(t){var a=t.data[0],n=t.data;n.shift(),e.setState({user:a,recipes:n})}))}},{key:"render",value:function(){var e,t,a,n;return this.state.user?(e=this.state.user.avatar,t=this.state.user.username,a=this.state.user.quote,n=this.state.recipes.map((function(e,t){return s.a.createElement(O,{key:t,title:e.title,src:e.imagePath,id:e._id})}))):(e=null,t=null,a=null,n=null),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement(I,{user:this.state.loggedUser,text:t,link:"/users"})),s.a.createElement("div",{className:"row mb-5 mt-5"},s.a.createElement("section",{className:"profile-info-div"},s.a.createElement("div",{className:"col user-data"},s.a.createElement("img",{className:"profile-picture",src:e,alt:t})),s.a.createElement("div",{className:"col-8 user-nickname"},s.a.createElement("p",{className:"nickname"},"@",t),s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("p",null,a)),s.a.createElement("hr",null))),s.a.createElement("div",{className:"recipe-book row"},s.a.createElement("div",{className:"col ml-2 mt-3"},s.a.createElement("h5",null,"Recipes"),n)))),s.a.createElement("div",{className:"row"},s.a.createElement(k,{user:this.state.loggedUser})))}}]),a}(n.Component),H=(a(105),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getAllrecipes=function(){p.a.get("".concat("https://justcookit.herokuapp.com","/api/recipes/all")).then((function(e){n.setState({allRecipes:e.data})}))},n.state={loggedInUser:n.props.user,loggedUserId:n.props.user._id},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getAllrecipes()}},{key:"render",value:function(){var e,t=this;return this.state.allRecipes&&(e=this.state.allRecipes.slice(0).reverse().map((function(e,a){return s.a.createElement(S,{key:a,title:e.title,username:e.owner.username,id:e._id,recipeOwner:e.owner._id,avatar:e.owner.avatar,src:e.imagePath,servings:e.servings,readyInMinutes:e.readyInMinutes,logged:t.state.loggedInUser})}))),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement(I,{user:this.props.loggedInUser,text:"What's new?",link:"/profile"})),s.a.createElement("div",{className:"row mb-5  mt-5"},e)),s.a.createElement("div",{className:"row"},s.a.createElement(k,{user:this.state.loggedInUser})))}}]),a}(n.Component)),K=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getTheUser=function(e){n.setState({loggedInUser:e},(function(){localStorage.setItem("loggedInUser",JSON.stringify(n.state.loggedInUser))}))},n.showMyRecipes=function(){p.a.get("".concat("https://justcookit.herokuapp.com","/api/profile/recipes"),{withCredentials:!0}).then((function(e){console.log("my recipes:",e.data),n.setState({myRecipes:e.data})}))},n.showSavedRecipes=function(){p.a.get("".concat("https://justcookit.herokuapp.com","/api/profile/savedRecipes"),{withCredentials:!0}).then((function(e){n.setState({savedRecipes:e.data})}))},n.getAllRecipe=function(e){n.setState({recipes:e})},n.getSelectedIngredients=function(e){n.setState({ingredients:e})},n.state={loggedInUser:JSON.parse(localStorage.getItem("loggedInUser"))||null},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return console.log("in app:",this.state),s.a.createElement("div",null,s.a.createElement(d.d,null,s.a.createElement(d.b,{exact:!0,path:"/",render:function(){return s.a.createElement(b,null)}}),s.a.createElement(d.b,{path:"/signup",render:function(t){return s.a.createElement(v,Object.assign({},t,{getUser:e.getTheUser}))}}),s.a.createElement(d.b,{path:"/login",render:function(t){return s.a.createElement(E,Object.assign({},t,{getUser:e.getTheUser,showMyRecipes:e.showMyRecipes,showSavedRecipes:e.showSavedRecipes}))}}),s.a.createElement(d.b,{path:"/logout",render:function(t){return s.a.createElement(U,Object.assign({},t,{getUser:e.getTheUser}))}}),s.a.createElement(d.b,{path:"/main",render:function(t){return s.a.createElement(H,Object.assign({},t,{getUser:e.getTheUser,user:e.state.loggedInUser,saved:e.state.savedRecipes,showMyRecipes:e.showMyRecipes,showSavedRecipes:e.showSavedRecipes}))}}),s.a.createElement(d.b,{path:"/profile",render:function(t){return s.a.createElement(R,Object.assign({},t,{user:e.state.loggedInUser,getUser:e.getTheUser,saved:e.state.savedRecipes}))},myRecipes:this.state.myRecipes,showMyRecipes:this.showMyRecipes,showSavedRecipes:this.showSavedRecipes}),s.a.createElement(d.b,{path:"/footer",render:function(t){return s.a.createElement(R,Object.assign({},t,{user:e.state.loggedInUser}))}}),s.a.createElement(d.b,{path:"/search",render:function(t){return s.a.createElement(D,Object.assign({},t,{user:e.state.loggedInUrser,liftUpRecipesSearched:e.getAllRecipe,ingredients:e.getSelectedIngredients,saved:e.state.savedRecipes,showSavedRecipes:e.showSavedRecipes}))}}),s.a.createElement(d.b,{exact:!0,path:"/recipe/:id",render:function(t){return s.a.createElement(L,Object.assign({},t,{showSavedRecipes:e.showSavedRecipes,savedRecipes:e.state.savedRecipes,user:e.state.loggedInUser}))}}),s.a.createElement(d.b,{path:"/recipe/:id/edit",render:function(t){return s.a.createElement(z,Object.assign({},t,{user:e.state.loggedInUser}))}}),s.a.createElement(d.b,{path:"/add",render:function(t){return s.a.createElement(T,Object.assign({},t,{user:e.state.loggedInUser}))}}),s.a.createElement(d.b,{exact:!0,path:"/users",render:function(t){return s.a.createElement(B,Object.assign({},t,{user:e.state.loggedInUser}))}}),s.a.createElement(d.b,{path:"/users/:id",render:function(t){return s.a.createElement(J,Object.assign({},t,{user:e.state.loggedInUser}))}})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(106);i.a.render(s.a.createElement(g.a,null,s.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},40:function(e,t,a){},41:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){},67:function(e,t,a){e.exports=a(107)},72:function(e,t,a){},73:function(e,t,a){},91:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.12eae937.chunk.js.map
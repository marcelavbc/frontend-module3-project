(this["webpackJsonpcook-frontend"]=this["webpackJsonpcook-frontend"]||[]).push([[0],{100:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(26),i=a.n(r),c=(a(73),a(2)),l=a(3),o=a(5),m=a(4),p=(a(74),a(7)),u=a.n(p),d=a(11),h=a(21),f=function e(){var t=this;Object(c.a)(this,e),this.signup=function(e,a,n){return t.service.post("/signup",{username:e,password:a,email:n}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/loggedin").then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout",{}).then((function(e){return e.data}))};var a=u.a.create({baseURL:"".concat("https://justcookit.herokuapp.com","/api"),withCredentials:!0});this.service=a},g=a(9),v=(a(92),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password,s=n.state.email,r=n.state.avatar,i=n.state.quote;n.service.signup(t,a,s,r,i).then((function(e){n.setState({username:"",password:"",email:"",avatar:"",quote:""}),n.props.getUser(e),n.props.history.push("/main/")})).catch((function(e){console.log(e),n.setState({error:e.response.data.message})}))},n.handleChange=function(e){var t=e.target,a=t.name,s=t.value;n.setState(Object(h.a)({},a,s))},n.state={username:"",password:"",email:"",avatar:"",quote:""},n.service=new f,n}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this;return e=this.state.error?s.a.createElement("p",{className:"text-center mb-4 error-message"},this.state.error):null,s.a.createElement("div",{className:"container-fluid auth"},s.a.createElement("h2",null,"Sign up!"),s.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"form-div"},s.a.createElement("input",{className:"input-form",type:"text",placeholder:"Create a username",name:"username",value:this.state.username,onChange:function(e){return t.handleChange(e)}}),s.a.createElement("input",{className:"input-form",type:"email",placeholder:"Enter your email",name:"email",value:this.state.email,onChange:function(e){return t.handleChange(e)}}),s.a.createElement("input",{className:"input-form",type:"password",placeholder:"Create a password",name:"password",value:this.state.password,onChange:function(e){return t.handleChange(e)}}),e,s.a.createElement("button",{className:"btn log-btn",type:"submit"},"Let's Cook!")),s.a.createElement("div",{className:"already d-flex flex-column mt-3"},s.a.createElement("p",{className:"m-0 mr-3 mb-3"},"Already have account?"),s.a.createElement(g.b,{className:"not-found-link",to:"/login"},"Login!")))}}]),a}(n.Component)),E=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.login(t,a).then((function(e){n.setState({username:"",password:""}),n.props.getUser(e),n.props.showMyRecipes(),n.props.showSavedRecipes(),n.props.history.push("/main")})).catch((function(e){console.log("the error:",e),n.setState({error:e.response.data.message})}))},n.handleChange=function(e){var t=e.target,a=t.name,s=t.value;n.setState(Object(h.a)({},a,s))},n.state={username:"",password:""},n.service=new f,n}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this;return e=this.state.error?s.a.createElement("p",{className:"error-message"},this.state.error):null,s.a.createElement("div",{className:"container-fluid auth"},s.a.createElement("h2",null,"Login!"),s.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"form-div"},s.a.createElement("input",{className:"input-form",type:"text",placeholder:"Your username",name:"username",value:this.state.username,onChange:function(e){return t.handleChange(e)}}),s.a.createElement("input",{className:"input-form",type:"password",placeholder:"Your password",name:"password",value:this.state.password,onChange:function(e){return t.handleChange(e)}}),s.a.createElement("button",{className:"btn log-btn",type:"submit"},"Let's Cook!"),e),s.a.createElement("div",{className:"already d-flex flex-column mt-3"},s.a.createElement("p",{className:"m-0 mr-3 mb-3"},"Don't have an account yet?"),s.a.createElement(g.b,{className:"not-found-link",to:"/signup"},"Sign up!")))}}]),a}(n.Component),b=(a(98),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"home container-fluid"},s.a.createElement("h1",null,"Cook!"),s.a.createElement("div",{className:"d-flex w-100 justify-content-center"},s.a.createElement(g.b,{to:"/signup"},s.a.createElement("button",{className:"btn btn-home"},"Sign up")),s.a.createElement(g.b,{to:"/login"},s.a.createElement("button",{className:"btn btn-home"},"Login"))))}}]),a}(n.Component)),N=a(32),y=a(14),k=(a(99),a(57),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("nav",{className:"navbar fixed-bottom col"},s.a.createElement(g.b,{to:"/search"},s.a.createElement("i",{className:"fas fa-search"})),s.a.createElement(g.b,{to:"/add"},s.a.createElement("i",{className:"fas fa-plus"})),s.a.createElement("i",{className:"far fa-bell"}),s.a.createElement(g.b,{to:"/profile"},s.a.createElement("i",{className:"far fa-user"})))}}]),a}(n.Component)),w=(a(100),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("nav",{className:"navbar fixed-top col"},s.a.createElement(g.b,{to:"/main"},s.a.createElement("img",{src:"/images/cooking.png",alt:"logo"})),s.a.createElement("p",null,this.props.text),s.a.createElement(g.b,{to:"/users"},s.a.createElement("img",{src:"/images/search.png",alt:"search"})))}}]),a}(n.Component)),I=a(112),j=a(113),C=a(110),O=(a(41),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).deleteRecipe=function(){"number"===typeof n.props.recipeId?u.a.delete("".concat("https://justcookit.herokuapp.com","/api/profile/savedApiRecipes/").concat(n.props.id),{withCredentials:!0}).then((function(e){n.props.updateRecipes(e)})):!1===n.props.recipeOrigin?u.a.delete("".concat("https://justcookit.herokuapp.com","/api/profile/savedInternalRecipes/").concat(n.props.id),{withCredentials:!0}).then((function(e){n.props.updateRecipes(e)})):u.a.delete("".concat("https://justcookit.herokuapp.com","/api/profile/recipe/").concat(n.props.id),{withCredentials:!0}).then((function(e){n.props.updateMyRecipes(e)}))},n.state={saved:!1,loggedInUser:n.props.loggedInUser,savedRecipes:n.props.saved,myRecipes:n.props.myRecipes},n}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"recipe-div"},s.a.createElement("div",{className:"info-file"},s.a.createElement("img",{className:"my-recipe-image mr-2",src:this.props.src,alt:this.props.title}),s.a.createElement("p",{className:"m-0 text-title"},this.props.title)),s.a.createElement("div",{className:"recipes-icons mx-2"},s.a.createElement(g.b,{to:"/recipe/".concat(this.props.recipeId)},s.a.createElement("i",{className:"fas fa-info info-icon-profile"})),s.a.createElement("i",{className:"info-icon-profile fas fa-trash",onClick:this.deleteRecipe}))))}}]),a}(n.Component)),S=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.setState({show:!1})},n.handleOpen=function(){n.setState({show:!0})},n.handleEditOpen=function(){n.setState({editQuote:!0})},n.handleChangeQuote=function(e){n.setState({quote:e.target.value})},n.handleSubmit=function(e){e.preventDefault();var t=n.state.quote;u.a.put("".concat("https://justcookit.herokuapp.com","/api/profile/editQuote"),{quote:t},{withCredentials:!0}).then((function(e){return n.setState({loggedInUser:Object(N.a)(Object(N.a)({},n.state.loggedInUser),{},{quote:e.data.quote}),editQuote:!1})})).catch((function(e){return console.log(e)}))},n.handleFileUpLoad=function(e){var t=new FormData;t.append("avatar",e.target.files[0]),console.log("upload data",e.target.files[0]),u.a.put("".concat("https://justcookit.herokuapp.com","/api/profile/updateavatar"),t,{withCredentials:!0}).then((function(e){n.setState({loggedInUser:Object(N.a)(Object(N.a)({},n.state.loggedInUser),{},{avatar:e.data.avatar})})}))},n.showMyRecipes=function(){u.a.get("".concat("https://justcookit.herokuapp.com","/api/profile/recipes"),{withCredentials:!0}).then((function(e){n.setState({myRecipes:e.data})}))},n.showSavedRecipes=function(){u.a.get("".concat("https://justcookit.herokuapp.com","/api/profile/savedRecipes"),{withCredentials:!0}).then((function(e){n.setState({savedRecipes:e.data})}))},n.state={loggedInUser:n.props.user,loggedUserId:n.props.user._id,avatar:n.props.user.avatar,show:!1,editQuote:!1,quote:n.props.user.quote,savedRecipes:n.props.saved,myRecipes:n.props.myRecipes,key:1},n.handleSelect=n.handleSelect.bind(Object(y.a)(n)),n}return Object(l.a)(a,[{key:"handleSelect",value:function(e){this.setState({key:e})}},{key:"componentDidMount",value:function(){this.showMyRecipes(),this.showSavedRecipes()}},{key:"render",value:function(){var e,t,a=this,n="",r="";return this.state.editQuote?(n=s.a.createElement("form",{onSubmit:function(e){return a.handleSubmit(e)},className:"form-div-edit"},s.a.createElement("input",{type:"text",name:"quote",placeholder:this.state.loggedInUser.quote,className:"quote-input",autoComplete:"off",onChange:function(e){return a.handleChangeQuote(e)}}),s.a.createElement("input",{type:"submit",value:"Save",className:"save btn"})),r=null):(n=s.a.createElement("p",{className:"quote"},'"',this.state.loggedInUser.quote,'"'),r=s.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a.handleEditOpen()}})),e=this.state.myRecipes?this.state.myRecipes.slice(0).reverse().map((function(e,t){return s.a.createElement(O,{key:t,title:e.title,src:e.imagePath,servings:e.servings,readyInMinutes:e.readyInMinutes,loggedInUser:a.state.loggedInUser,updateMyRecipes:a.showMyRecipes,id:e._id,recipeId:e._id,recipeOrigin:!0})})):null,t=this.state.savedRecipes?this.state.savedRecipes.slice(0).reverse().map((function(e,t){return s.a.createElement(O,{key:t,title:e.title||e.recipe.title,src:e.image||e.recipe.imagePath,servings:e.servings||e.recipe.servings,readyInMinutes:e.readyInMinutes||e.recipe.readyInMinutes,loggedInUser:a.state.loggedInUser,updateSaved:a.updateMyRecipes,id:e._id,recipeId:e.recipeId||e.recipe._id,updateRecipes:a.showSavedRecipes,recipeOrigin:!1})})):null,s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement(w,{user:this.state.loggedInUser,text:"Profile",link:"/main"})),s.a.createElement("div",{className:"row profile-container-div mb-5"},s.a.createElement("section",{className:"profile-info-div"},s.a.createElement("div",{className:"col col-md-2 user-data"},s.a.createElement("img",{className:"profile-picture",src:this.state.loggedInUser.avatar,alt:this.state.loggedInUser.username}),s.a.createElement("img",{className:"edit-icon",src:"/images/person.png",alt:"edit-profile-icon",onClick:function(){return a.handleOpen()}}),s.a.createElement(I.a,{show:this.state.show,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},s.a.createElement(I.a.Header,null,s.a.createElement(I.a.Title,{className:"w-100"},s.a.createElement("i",{className:"far fa-window-close float-right",onClick:function(){return a.handleClose()}}))),s.a.createElement(I.a.Body,null,s.a.createElement("input",{type:"file",id:"file",name:"avatar",onChange:this.handleFileUpLoad,className:"custom-file-input custom-file-input-profile"})))),s.a.createElement("div",{className:"col-8 user-nickname"},s.a.createElement(g.b,{to:"/logout"},s.a.createElement("i",{className:"fas fa-power-off float-right"})),s.a.createElement("p",{className:"nickname"},"@",this.state.loggedInUser.username),s.a.createElement("div",{className:"d-flex align-items-center"},n,r),s.a.createElement("hr",null))),s.a.createElement("div",{className:"recipes-list row"},s.a.createElement("div",{className:"col col-md-6 tabs ml-2 mt-3"},s.a.createElement(j.a,{className:"tab-master",activeKey:this.state.key,onSelect:this.handleSelect},s.a.createElement(C.a,{className:"tab-second",eventKey:1,title:"My Recipes"},e),s.a.createElement(C.a,{className:"tab-second",eventKey:2,title:"Favorites"},t)))))),s.a.createElement("div",{className:"row"},s.a.createElement(k,{user:this.state.loggedInUser})))}}]),a}(n.Component),R=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).service=new f,n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return this.service.logout().then((function(t){e.props.getUser(null)})).catch((function(e){return console.log(e)})),s.a.createElement(d.a,{to:"/login"})}}]),a}(n.Component),x=(a(104),a(59),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"ingredient-div",onClick:function(){return e.props.addIndredients(e.props.item)}},s.a.createElement("img",{className:"ingredient-image",src:"https://spoonacular.com/cdn/ingredients_100x100/".concat(this.props.photo),alt:this.props.item}),s.a.createElement("p",null,this.props.item))}}]),a}(n.Component)),U=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"ingredient-div"},s.a.createElement("i",{className:"fas fa-trash-alt",onClick:function(){return e.props.deleteItem(e.props.item)}}),s.a.createElement("p",null,this.props.item))}}]),a}(n.Component),M=a(17),_=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).open=function(){n.setState({open:!n.state.open})},n.save=function(){n.state.saved?u.a.delete("".concat("https://justcookit.herokuapp.com","/api/profile/savedApiRecipes/").concat(n.state.savedId),{withCredentials:!0}).then((function(e){n.setState({saved:!1}),n.props.showSavedRecipes()})):u.a.post("".concat("https://justcookit.herokuapp.com","/api/profile/savedRecipes"),{recipeId:n.props.id},{withCredentials:!0}).then((function(e){var t=Object(M.a)(n.state.savedRecipes);t.push(e.data),n.setState({saved:!0,savedRecipes:t,savedId:e.data._id}),n.props.showSavedRecipes()}))};var s,r,i=!1,l="";return n.props.saved&&(i=n.props.saved.some((function(e){return!!e.recipeId&&(e.recipeId==n.props.id&&(l=e._id),e.recipeId===n.props.id)})),r=(s=n.props.saved.find((function(e){return e.recipeId===n.props.id})))?s._id:null),n.state={open:!1,saved:i,savedRecipes:n.props.saved,recipeId:r,savedId:l},n.open=n.open.bind(Object(y.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"recipe-card col-md-3"},s.a.createElement("h5",{className:"card-title recipe-title d-flex align-items-center justify-content-center"},this.props.title),s.a.createElement("img",{className:"recipe-image",src:this.props.src,alt:this.props.title}),s.a.createElement("div",{className:"card-icons"},s.a.createElement("div",{className:"wrapper"},s.a.createElement("i",{className:"icon far fa-clock"}),s.a.createElement("span",{className:"badge minuts"},this.props.minutes)),s.a.createElement("div",{className:"wrapper"},s.a.createElement("i",{className:"icon fas fa-utensils"}),s.a.createElement("span",{className:"badge"},this.props.serving)),s.a.createElement("div",{className:"wrapper"},s.a.createElement("i",{className:this.state.open?"icon fas fa-question-circle":"icon far fa-question-circle",onClick:this.open}),s.a.createElement("span",{className:"badge"},this.props.missed)),s.a.createElement(g.b,{to:"/recipe/".concat(this.props.id)},s.a.createElement("i",{className:"icon fas fa-info"})),s.a.createElement("i",{className:this.state.saved?"icon fas fa-bookmark":"icon far fa-bookmark",onClick:this.save})),s.a.createElement("div",{className:this.state.open?"panel-collapse":"panel-collapse panel-close"},s.a.createElement("p",null,"Ingredients: "),s.a.createElement("ul",null,this.props.usedIngredients.map((function(e,t){return s.a.createElement("li",{className:"miss-ingredients-list",key:t},e.name)})))))}}]),a}(n.Component),A=a(111),D=function(){return s.a.createElement("div",{className:"mt-4"},s.a.createElement(A.a,{role:"status",className:"spinner-grow spinner-grow-sm mx-2 "},s.a.createElement("span",{className:"sr-only"},"Loading...")),s.a.createElement(A.a,{role:"status",className:"spinner-grow spinner-grow-sm mx-2"},s.a.createElement("span",{className:"sr-only"},"Loading...")),s.a.createElement(A.a,{role:"status",className:"spinner-grow spinner-grow-sm mx-2"},s.a.createElement("span",{className:"sr-only"},"Loading...")))},q=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({ingredient:e.target.value.toLowerCase()})},n.handleClick=function(e){var t=n.state.listAllIngredients;t.push(e),n.setState({listAllIngredients:t,ingredient:""})},n.getIngredients=function(e){var t=e.target.value.toLowerCase();u()({method:"GET",url:"https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/food/ingredients/autocomplete",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"spoonacular-recipe-food-nutrition-v1.p.rapidapi.com","x-rapidapi-key":"3ae8633d0fmshea232df942d8d7bp19b871jsn75705b922f90",useQueryString:!0},params:{number:"5",query:t}}).then((function(e){n.setState({data:e.data,ingredient:t})}))},n.deleteItem=function(e){var t=n.state.listAllIngredients,a=t.indexOf(e);a>-1&&t.splice(a,1),n.setState({listAllIngredients:t})},n.letsCook=function(){var e=n.state.listAllIngredients.toString(),t=[];n.setState({isClicked:!0}),u()({method:"GET",url:"https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/findByIngredients",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"spoonacular-recipe-food-nutrition-v1.p.rapidapi.com","x-rapidapi-key":"3ae8633d0fmshea232df942d8d7bp19b871jsn75705b922f90",useQueryString:!0},params:{number:"15",ranking:"1",ignorePantry:"false",ingredients:e}}).then((function(e){e.data.map((function(e){t.push(e.id)})),u()({method:"GET",url:"https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/informationBulk",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"spoonacular-recipe-food-nutrition-v1.p.rapidapi.com","x-rapidapi-key":"3ae8633d0fmshea232df942d8d7bp19b871jsn75705b922f90",useQueryString:!0},params:{ids:t.toString()}}).then((function(e){n.setState({recipes:e.data,loading:!1})})).catch((function(e){console.log(e)}))})).then((function(){var e=n.state.listAllIngredients;n.props.ingredients(e)})).catch((function(e){console.log(e)}))},n.state={ingredient:"",listAllIngredients:[],isClicked:!1,savedRecipes:n.props.saved,loading:!0},n.handleClick=n.handleClick.bind(Object(y.a)(n)),n.getIngredients=n.getIngredients.bind(Object(y.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this;this.state.data&&(e=this.state.data.map((function(e,a){return s.a.createElement(x,{key:e.name,item:e.name,photo:e.image,addIndredients:t.handleClick})})));var a,n,r,i="";return this.state.listAllIngredients.length>0&&(i=s.a.createElement("p",{className:"selected"},"Cook with...")),this.state.listAllIngredients.length>0&&(a=this.state.listAllIngredients.map((function(e,a){return s.a.createElement(U,{key:a,item:e,deleteItem:t.deleteItem})}))),this.state.listAllIngredients.length>2&&(n=s.a.createElement("button",{className:"btn btn-letscook",type:"submit",onClick:this.letsCook},"Let's Cook!")),this.state.isClicked&&(r=this.state.loading?s.a.createElement(D,null):this.state.recipes.map((function(e,a){return s.a.createElement(_,{id:e.id,key:a,title:e.title,src:e.image,missed:e.missedIngredientCount,usedIngredients:e.extendedIngredients,minutes:e.readyInMinutes+"'",serving:e.servings,recipes:e,saved:t.props.saved,user:t.props.user,showSavedRecipes:t.props.showSavedRecipes})}))),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement(w,{user:this.state.loggedInUser,text:"Search"})),s.a.createElement("div",{className:"row mt-5 main-search"},s.a.createElement("div",{className:"col-12 input-type-search text-center"},s.a.createElement("p",null,s.a.createElement("input",{placeholder:"Type to search and click to select!",autoComplete:"off",className:"input-search",type:"text",name:"ingredients",onChange:this.getIngredients,value:this.state.ingredient})))),s.a.createElement("div",{className:"row search-main"},s.a.createElement("div",{className:"col col-md-3"},e),s.a.createElement("div",{className:"col col-md-3"},i,a)),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col cookButton-div"},n)),s.a.createElement("div",{className:"row recipe-box py-5"},r)),s.a.createElement("div",{className:"row"},s.a.createElement(k,{user:this.state.loggedInUser})))}}]),a}(n.Component),F=(a(42),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){var a=Object(M.a)(n.state.extendedIngredients);a[e][t.target.name]=t.target.value,n.setState({extendedIngredients:a}),n.props.liftIngredientsState(a)},n.addInput=function(){n.setState({extendedIngredients:[].concat(Object(M.a)(n.state.extendedIngredients),[{name:"",amount:"",unit:""}])})},n.removeInput=function(e){var t=Object(M.a)(n.state.extendedIngredients);t.splice(e,1),n.setState({extendedIngredients:t}),n.props.liftIngredientsState(t)},n.state={extendedIngredients:[{name:"",amount:"",unit:""}]},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.extendedIngredients;return s.a.createElement("div",{className:"inputs-ingredients row mx-2 mb-4"},t.map((function(t,a){return s.a.createElement("div",{key:a,className:"form-group input-ingredients-row align-items-center "},s.a.createElement("input",{className:"add-input add-number col-2",type:"number",name:"amount",key:"amount"+a,value:t.amount,autoComplete:"off",placeholder:"Qt.",onChange:function(t){return e.handleChange(a,t)}}),s.a.createElement("input",{className:"add-input col-3 mx-3",type:"text",name:"unit",key:"unit"+a,value:t.unit,autoComplete:"off",placeholder:"Un.",onChange:function(t){return e.handleChange(a,t)}}),s.a.createElement("input",{className:"add-input col",type:"text",name:"name",key:"name"+a,value:t.name,autoComplete:"off",placeholder:"Name",onChange:function(t){return e.handleChange(a,t)}}),s.a.createElement("i",{className:"icon-add col-1 fas fa-trash text-center",onClick:function(){return e.removeInput(a)}}))})),s.a.createElement("i",{className:"fas fa-plus col-1 add-ingredient",onClick:this.addInput}))}}]),a}(n.Component)),z=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){var a=Object(M.a)(n.state.analyzedInstructions[0].steps);a[e][t.target.name]=t.target.value,n.setState({analyzedInstructions:[{steps:a}]}),n.props.liftMethodsState([{steps:a}])},n.addInput=function(){n.setState({analyzedInstructions:[{steps:[].concat(Object(M.a)(n.state.analyzedInstructions[0].steps),[{number:"",step:""}])}]})},n.removeInput=function(e){var t=Object(M.a)(n.state.analyzedInstructions[0].steps);t.splice(e,1);var a=Object(M.a)(n.state.analyzedInstructions);a[0].steps=t,n.setState({analyzedInstructions:a}),n.props.liftMethodsState(t)},n.state={analyzedInstructions:[{steps:[{number:"",step:""}]}]},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.analyzedInstructions;return s.a.createElement("div",{className:"inputs-ingredients row mx-2"},t[0].steps.map((function(t,a){return s.a.createElement("div",{key:a,className:"form-group input-ingredients-row align-items-center "},s.a.createElement("input",{className:"add-input col-2 mr-3",type:"number",name:"number",value:t.number,key:"methodNumber"+a,placeholder:a+1,autoComplete:"off",onChange:function(t){return e.handleChange(a,t)}}),s.a.createElement("input",{className:"add-input col",type:"text",placeholder:"Instruction",name:"step",value:t.step,key:"methodStep"+a,autoComplete:"off",onChange:function(t){return e.handleChange(a,t)}}),s.a.createElement("i",{className:"icon-add col-1 fas fa-trash text-center",onClick:function(){return e.removeInput(a)}}))})),s.a.createElement("i",{className:"fas fa-plus col-1 add-ingredient",onClick:this.addInput}))}}]),a}(n.Component),L=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getRecipeDetails=function(){u.a.get("".concat("https://justcookit.herokuapp.com","/api/recipes/").concat(n.state.id)).then((function(e){n.setState({recipe:e.data,title:e.data.title,show:!1})}))},n.handleOpen=function(){n.setState({show:!0})},n.handleClose=function(){n.setState({show:!1})},n.handleChange=function(e){console.log(e.target.name,e.target.value),n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleFormSubmit=function(e){e.preventDefault();var t={owner:n.state.recipe.owner,title:n.state.title,servings:n.state.recipe.servings,readyInMinutes:n.state.recipe.readyInMinutes,extendedIngredients:n.state.recipe.extendedIngredients,analyzedInstructions:n.state.recipe.analyzedInstructions,imagePath:n.state.recipe.imagePath};u.a.put("".concat("https://justcookit.herokuapp.com","/api/recipe/").concat(n.state.id),t,{withCredentials:!0}).then((function(e){console.log("response",e),n.props.history.push("/profile"),n.getRecipeDetails()}))},n.state={loggedInUser:n.props.user,id:n.props.match.params.id},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getRecipeDetails()}},{key:"render",value:function(){var e,t,a,n,r,i,c=this;return this.state.recipe?(e=this.state.recipe.imagePath,t=this.state.recipe.title,a=this.state.recipe.servings,n=this.state.recipe.readyInMinutes,r=this.state.recipe.extendedIngredients.map((function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("input",{className:"add-input add-number ",type:"number",placeholder:e.amount,name:"amount",onChange:function(e){return c.handleChange(e)}}),s.a.createElement("input",{className:"add-input",type:"text",placeholder:e.unit,name:"unit",onChange:function(e){return c.handleChange(e)}}),s.a.createElement("input",{className:"add-input",type:"text",placeholder:e.name,name:"name",onChange:function(e){return c.handleChange(e)}}))})),i=this.state.recipe.analyzedInstructions[0].steps.map((function(e,t){return s.a.createElement("li",{className:"mb-2",key:t},s.a.createElement("input",{className:"w-100 add-input",type:"text",placeholder:e.number,name:"number",onChange:function(e){return c.handleChange(e)}}),s.a.createElement("input",{className:"w-100 add-input",type:"text",placeholder:e.step,name:"step",onChange:function(e){return c.handleChange(e)}}))}))):(e=null,t=null,a=null,n=null,n=null,r=null),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"mb-5 mt-5"},s.a.createElement("div",{className:"row"},s.a.createElement(w,{user:this.state.loggedInUser,text:"Edit",link:"/main"})),s.a.createElement("div",{className:"row add"},s.a.createElement("div",{className:"col-12"},s.a.createElement("form",{onSubmit:this.handleFormSubmit,autoComplete:"new-search"},s.a.createElement("div",{className:"mb-4"},s.a.createElement("div",null,s.a.createElement("img",{className:"w-100",src:e,alt:"exemplo",onClick:function(){return c.handleOpen()}}),s.a.createElement(I.a,{show:this.state.show,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},s.a.createElement(I.a.Header,null,s.a.createElement(I.a.Title,{className:"w-100"},s.a.createElement("i",{className:"far fa-window-close float-right",onClick:function(){return c.handleClose()}}))),s.a.createElement(I.a.Body,null,s.a.createElement("input",{type:"file",className:"",name:"image",id:"file",multiple:!0,onChange:function(e){return c.handleChange(e)}})))),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"add-input w-100",type:"text",placeholder:t,value:this.state.title,name:"title",onChange:function(e){return c.handleChange(e)}})),s.a.createElement("div",{className:"small-info w-100 justify-content-around mb-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("i",{className:"icon-add far fa-clock mr-2"}),s.a.createElement("input",{className:"add-input add-number",type:"number",placeholder:n,name:"readyInMinutes",onChange:function(e){return c.handleChange(e)}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("i",{className:"icon-add fas fa-utensils mr-2"}),s.a.createElement("input",{className:"add-input add-number",type:"number",placeholder:a,name:"servings",onChange:function(e){return c.handleChange(e)}})),s.a.createElement("div",null,s.a.createElement("p",null,"Ingredients"),r,s.a.createElement("p",null,"Instructions"),i))),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("input",{className:"btn btn-save-add mt-3",type:"submit",value:"Save",onSubmit:this.handleFormSubmit})))))),s.a.createElement("div",{className:"row"},s.a.createElement(k,{user:this.state.loggedInUser})))}}]),a}(n.Component),T=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).getRecipeDetails=function(){u.a.get("".concat("https://justcookit.herokuapp.com","/api/recipes/").concat(n.state.id)).then((function(e){n.setState({recipe:e.data})}))},n.save=function(){n.state.saved?"api"===n.state.origin?u.a.delete("".concat("https://justcookit.herokuapp.com","/api/profile/savedApiRecipes/").concat(n.state.savedId),{withCredentials:!0}).then((function(e){n.setState({saved:!1}),n.props.showSavedRecipes()})):u.a.delete("".concat("https://justcookit.herokuapp.com","/api/profile/savedInternalRecipes/").concat(n.state.savedId),{withCredentials:!0}).then((function(e){n.setState({saved:!1}),n.props.showSavedRecipes()})):u.a.post("".concat("https://justcookit.herokuapp.com","/api/profile/savedRecipes"),{recipeId:n.state.id},{withCredentials:!0}).then((function(e){var t;(t=n.props.savedRecipes?Object(M.a)(n.props.savedRecipes):[]).push(e.data),n.setState({saved:!0,savedRecipes:t,savedId:e.data._id}),n.props.showSavedRecipes()}))},n.editRecipe=function(){return s.a.createElement(L,{user:n.state.loggedInUser,recipe:n.state.recipe})};var r=!1,i="internal",l="";return n.props.savedRecipes&&(r=n.props.savedRecipes.some((function(e){return e.recipeId?(e.recipeId==n.props.match.params.id&&(i="api",l=e._id),e.recipeId==n.props.match.params.id):(e.recipe._id==n.props.match.params.id&&(l=e._id),e.recipe._id==n.props.match.params.id)})),console.log("tamanho id ",n.props.match.params.id.length),n.props.match.params.id.length<15&&(i="api")),n.state={saved:r,loggedInUser:n.props.user,id:n.props.match.params.id,savedRecipes:n.props.savedRecipes,origin:i,savedId:l},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getRecipeDetails(),this.props.showSavedRecipes()}},{key:"render",value:function(){var e,t,a,n,r,i,c,l,o;return this.state.recipe?(e=s.a.createElement("p",{className:"details-title m-0 mr-3"},this.state.recipe.title||this.state.recipe.recipe.title),t=this.state.recipe.image||this.state.recipe.imagePath||this.state.recipe.recipe.imagePath,a=this.state.recipe.servings,n=this.state.recipe.readyInMinutes,this.state.extendedIngredients,r=this.state.recipe.extendedIngredients.map((function(e,t){return s.a.createElement("li",{key:t},e.amount," ",e.unit," ",e.name)})),i=this.state.recipe.analyzedInstructions[0]?this.state.recipe.analyzedInstructions[0].steps.map((function(e,t){return s.a.createElement("div",{key:t},s.a.createElement("li",{className:"li-details mb-2"},e.number," ",e.step),s.a.createElement("hr",null))})):null,this.state.recipe.owner?this.state.loggedInUser._id!==this.state.recipe.owner._id?(o=this.state.recipe.owner._id,c=s.a.createElement(g.b,{className:"link-user",to:"/users/".concat(o)},s.a.createElement("li",{className:"link-user"},s.a.createElement("img",{className:"owner-avatar",src:this.state.recipe.owner.avatar,alt:"owner"})," @",this.state.recipe.owner.username)),l=s.a.createElement("i",{className:this.state.saved?"icon-details fas fa-bookmark":"icon-details far fa-bookmark",onClick:this.save})):l=s.a.createElement(g.b,{to:"/recipe/".concat(this.state.id,"/edit")},s.a.createElement("i",{className:"fas fa-pencil-alt",onClick:this.editRecipe})):(c=null,l=s.a.createElement("i",{className:this.state.saved?"icon-details fas fa-bookmark":"icon-details far fa-bookmark",onClick:this.save}),o=null)):(e=null,t=null,a=null,n=null,r=null,l=null),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"mb-5 mt-5"},s.a.createElement("div",{className:"row"},s.a.createElement(w,{user:this.state.loggedInUser,text:"How to cook",link:"/main"})),s.a.createElement("div",{className:"row recipe-detail-div"},s.a.createElement("div",{className:"col-12 d-flex mb-3 info-principal flex-column"},s.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},e,l)),s.a.createElement("div",{className:"d-flex row align-items-center"},s.a.createElement("div",{className:"col-6"},s.a.createElement("img",{className:"img-details",src:t,alt:e})),s.a.createElement("div",{className:"col px-0"},s.a.createElement("ul",{className:"details-list"},c,s.a.createElement("li",null,s.a.createElement("i",{className:"far fa-clock"})," ",n," minutes"),s.a.createElement("li",null,s.a.createElement("i",{className:"fas fa-utensils"})," ",a," servings")))),s.a.createElement("div",{className:"col-12 mt-4"},s.a.createElement("p",{className:"details-info-title"},"Ingredients:"),s.a.createElement("ul",null,r),s.a.createElement("p",{className:"details-info-title"},"How to cook:"),s.a.createElement("ul",null,i)))),s.a.createElement("div",{className:"row"},s.a.createElement(k,{user:this.state.loggedInUser})))}}]),a}(n.Component),P=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t,a=n.state.form;a.set(e.target.name,e.target.value),n.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"form",a),t))},n.handleOpen=function(){n.setState({show:!0})},n.handleClose=function(){n.setState({show:!1})},n.liftIngredientsState=function(e){var t=n.state.form;t.set("extendedIngredients",JSON.stringify(e)),n.setState({extendedIngredients:e,form:t})},n.liftMethodsState=function(e){var t=n.state.form;t.set("analyzedInstructions",JSON.stringify(e)),n.setState({analyzedInstructions:e,form:t})},n.handleFormSubmit=function(e){e.preventDefault(),u.a.post("".concat("https://justcookit.herokuapp.com","/api/profile/recipes"),n.state.form,{withCredentials:!0}).then((function(e){n.setState({title:"",readyInMinutes:0,servings:0,extendedIngredients:[],analyzedInstructions:[],image:""}),n.props.history.push("/main")}))},n.handleFileUpLoad=function(e){var t=n.state.form;t.set("image",e.target.files[0]),n.setState({form:t,photo:e.target.files[0]})};var s=new FormData;return s.append("owner",n.props.user._id),n.state={loggedInUser:n.props.user,title:"",readyInMinutes:0,servings:0,extendedIngredients:[],analyzedInstructions:[],image:"",owner:n.props.user._id,form:s,show:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this;return e=this.state.photo?s.a.createElement("p",{className:"m-0"},this.state.photo.name):s.a.createElement("p",{className:"m-0"},"Click to add a photo"),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"mb-5 mt-5"},s.a.createElement("div",{className:"row"},s.a.createElement(w,{user:this.state.loggedInUser,text:"Add a Recipe",link:"/main"})),s.a.createElement("div",{className:"row add"},s.a.createElement("div",{className:"col-12 col-md-6 add-main"},s.a.createElement("form",{onSubmit:this.handleFormSubmit,autoComplete:"new-search"},s.a.createElement("div",{className:"d-flex justify-content-around align-items-center mb-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"add-input w-100",type:"text",autoComplete:"off",placeholder:"Title",name:"title",onChange:function(e){return t.handleChange(e)}}))),s.a.createElement("div",null,s.a.createElement("div",{className:"small-info d-flex w-100 justify-content-around mb-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("i",{className:"icon-add far fa-clock mr-2"}),s.a.createElement("input",{className:"add-input add-number",type:"number",placeholder:"in minutes",name:"readyInMinutes",onChange:function(e){return t.handleChange(e)}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("i",{className:"icon-add fas fa-utensils mr-2"}),s.a.createElement("input",{className:"add-input add-number",type:"number",placeholder:"Servings",name:"servings",onChange:function(e){return t.handleChange(e)}}))),s.a.createElement("p",{className:"add-titles"},"Ingredients:"),s.a.createElement(F,{liftIngredientsState:this.liftIngredientsState}),s.a.createElement("p",{className:"add-titles"},"Methods:"),s.a.createElement(z,{liftMethodsState:this.liftMethodsState}),s.a.createElement("div",null,s.a.createElement("div",{className:"btn add-photo mt-4",onClick:function(){return t.handleOpen()}},e),s.a.createElement(I.a,{show:this.state.show,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},s.a.createElement(I.a.Header,null,s.a.createElement(I.a.Title,{className:"w-100"},s.a.createElement("i",{className:"far fa-window-close float-right",onClick:function(){return t.handleClose()}}))),s.a.createElement(I.a.Body,null,s.a.createElement("input",{type:"file",className:"",name:"image",id:"file",multiple:!0,onChange:function(e){return t.handleFileUpLoad(e)}})))),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("input",{className:"btn btn-save-add mt-3",type:"submit",value:"Send",onSubmit:this.handleFormSubmit}))))))),s.a.createElement("div",{className:"row"},s.a.createElement(k,{user:this.state.loggedInUser})))}}]),a}(n.Component),Q=(a(60),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSearch=n.handleSearch.bind(Object(y.a)(n)),n}return Object(l.a)(a,[{key:"handleSearch",value:function(e){this.props.functionToFilter(e.target.value)}},{key:"render",value:function(){return s.a.createElement("div",{className:"mb-2 mt-5"},s.a.createElement("form",{className:"",autoComplete:"new-search"},s.a.createElement("input",{className:"input-search-user mb-3 w-50",autoComplete:"off",type:"text",name:"search",placeholder:"Search a chef",onChange:this.handleSearch})))}}]),a}(n.Component)),B=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this;return e=this.props.filter?this.props.users.filter((function(e){return e.username.includes(t.props.filter.toLowerCase())})).map((function(e,t){return s.a.createElement(g.b,{key:t,to:"/users/".concat(e._id)},s.a.createElement("li",{className:"list-avatar",key:t},s.a.createElement("img",{className:"find-avatar",src:e.avatar,alt:e.username}),"@",e.username))})):this.props.users.map((function(e,t){return s.a.createElement(g.b,{key:t,to:"/users/".concat(e._id)},s.a.createElement("li",{className:"list-avatar",key:t},s.a.createElement("img",{className:"find-avatar",src:e.avatar,alt:e.username}),"@",e.username))})),s.a.createElement("div",{className:"mb-5"},s.a.createElement("ul",null,e))}}]),a}(n.Component),J=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loggedInUser:n.props.user,users:[]},n.getAllUsers=n.getAllUsers.bind(Object(y.a)(n)),n.filter=n.filter.bind(Object(y.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getAllUsers()}},{key:"getAllUsers",value:function(){var e=this;u.a.get("".concat("https://justcookit.herokuapp.com","/api/users")).then((function(t){e.setState({users:t.data})}))}},{key:"filter",value:function(e){this.setState({filter:e})}},{key:"render",value:function(){return s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement(w,{user:this.state.loggedInUser,text:"Chefs",link:"/profile"})),s.a.createElement("div",{className:"row mt-3 users-div d-flex flex-column"},s.a.createElement("div",{className:"col-12"},s.a.createElement(Q,{users:this.state.users,functionToFilter:this.filter})),s.a.createElement("div",{className:"col-12"},s.a.createElement("ul",null,s.a.createElement(B,{users:this.state.users,filter:this.state.filter}))))),s.a.createElement("div",{className:"row"},s.a.createElement(k,{user:this.state.loggedInUser})))}}]),a}(n.Component),H=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={saved:!1,loggedInUser:n.props.loggedInUser,savedRecipes:n.props.saved,myRecipes:n.props.myRecipes},n}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"recipe-div recipe-div-user-profile"},s.a.createElement("div",{className:"info-file"},s.a.createElement("img",{className:"my-recipe-image mr-2",src:this.props.src,alt:this.props.title}),s.a.createElement("p",{className:"m-0 text-title"},this.props.title)),s.a.createElement("div",{className:"recipes-icons mx-2"},s.a.createElement(g.b,{to:"/recipe/".concat(this.props.id)},s.a.createElement("i",{className:"fas fa-info info-icon-profile"})))))}}]),a}(n.Component),W=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loggedUser:n.props.user,id:n.props.match.params.id},n.getUserData=n.getUserData.bind(Object(y.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getUserData()}},{key:"getUserData",value:function(){var e=this;u.a.get("".concat("https://justcookit.herokuapp.com","/api/users/").concat(this.state.id)).then((function(t){var a=t.data[0],n=t.data;n.shift(),e.setState({user:a,recipes:n})}))}},{key:"render",value:function(){var e,t,a,n,r=this;return this.state.user?(e=this.state.user.avatar,t=this.state.user.username,a=this.state.user.quote,n=this.state.recipes.map((function(e,t){return s.a.createElement(H,{key:t,title:e.title,src:e.imagePath,id:e._id,loggedInUser:r.props.user})}))):(e=null,t=null,a=null,n=null),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement(w,{user:this.state.loggedUser,text:t,link:"/users"})),s.a.createElement("div",{className:"row mb-5 mt-5"},s.a.createElement("section",{className:"profile-info-div mt-md-5"},s.a.createElement("div",{className:"col user-data"},s.a.createElement("img",{className:"profile-picture",src:e,alt:t})),s.a.createElement("div",{className:"col-8 user-nickname"},s.a.createElement("p",{className:"nickname"},"@",t),s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("p",null,a)),s.a.createElement("hr",null))),s.a.createElement("div",{className:"recipe-book row"},s.a.createElement("div",{className:"col ml-2 ml-md-5 mt-3 mt-md-5"},s.a.createElement("h5",{className:"recipes-h5 mb-4"},"Recipes"),n)))),s.a.createElement("div",{className:"row"},s.a.createElement(k,{user:this.state.loggedUser})))}}]),a}(n.Component),G=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).save=function(){n.state.saved?u.a.delete("".concat("https://justcookit.herokuapp.com","/api/profile/savedInternalRecipes/").concat(n.state.savedRecipeId),{withCredentials:!0}).then((function(e){n.setState({saved:!1})})):u.a.post("".concat("https://justcookit.herokuapp.com","/api/profile/savedRecipes"),{recipeId:n.props.id},{withCredentials:!0}).then((function(e){n.setState({saved:!0,savedRecipeId:e.data._id})})),n.props.showSavedRecipes()},n.state={loggedInUser:n.props.logged,userId:n.props.logged._id,saved:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;u.a.get("".concat("https://justcookit.herokuapp.com","/api/profile/savedRecipes"),{withCredentials:!0}).then((function(t){var a,n=t.data.filter((function(e){return!e.title})).some((function(t){return t.recipe._id===e.props.id&&(a=t._id),t.recipe._id===e.props.id}));e.setState({saved:n,savedRecipeId:a})}))}},{key:"render",value:function(){var e;return e=this.props.recipeOwner===this.state.userId?null:s.a.createElement("p",null,s.a.createElement("i",{className:this.state.saved?"icon-main fas fa-bookmark":"icon-main far fa-bookmark",onClick:this.save})),s.a.createElement("div",{className:"col-12 col-md-4 col-lg-3 mt-2 d-flex mt-md-4 "},s.a.createElement("div",{className:"main-card "},s.a.createElement("div",{className:"top-card-main"},s.a.createElement("img",{className:"avatar-main",src:this.props.avatar,alt:this.props.OwnerUsername}),s.a.createElement(g.b,{to:"/users/".concat(this.props.recipeOwner)},s.a.createElement("p",{className:"main-card-user"},"@"+this.props.username))),s.a.createElement(g.b,{to:"/recipe/".concat(this.props.id)},s.a.createElement("img",{className:"recipe-image-main",src:this.props.src,alt:this.props.title})),s.a.createElement("div",{className:"card-body main-recipe-description"},s.a.createElement("p",{className:"recipe-title-main text-center"},this.props.title),s.a.createElement("div",{className:"main-icons"},s.a.createElement("p",null,s.a.createElement("i",{className:"icon-main fas fa-utensils mr-2"}),this.props.servings),s.a.createElement("p",null,s.a.createElement("i",{className:"icon-main far fa-clock mr-2"}),this.props.readyInMinutes),e))))}}]),a}(n.Component),K=(a(105),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getAllrecipes=function(){u.a.get("".concat("https://justcookit.herokuapp.com","/api/recipes/all")).then((function(e){n.setState({allRecipes:e.data})}))},n.state={loggedInUser:n.props.user,loggedUserId:n.props.user._id},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getAllrecipes()}},{key:"render",value:function(){var e,t=this;return this.state.allRecipes&&(e=this.state.allRecipes.slice(0).reverse().map((function(e,a){return s.a.createElement(G,{key:a,title:e.title,username:e.owner.username,id:e._id,recipeOwner:e.owner._id,avatar:e.owner.avatar,src:e.imagePath,servings:e.servings,readyInMinutes:e.readyInMinutes,logged:t.state.loggedInUser,showSavedRecipes:t.props.showSavedRecipes})}))),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement(w,{user:this.props.loggedInUser,text:"What's new?"})),s.a.createElement("div",{className:"row main-div mb-5"},e)),s.a.createElement("div",{className:"row"},s.a.createElement(k,{user:this.state.loggedInUser})))}}]),a}(n.Component)),Y=(a(106),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"not-found-div"},s.a.createElement("h4",{className:"ops text-center"},"Ops! There is nothing to eat here, dude!"),s.a.createElement("img",{src:"/images/no-comer.png",className:"",alt:"not-found"}),s.a.createElement("p",{className:"not-found text-center"},"Would you like to see to your ",s.a.createElement("a",{className:"not-found-link",href:"/profile"},"profile"),"?"),s.a.createElement("p",{className:"not-found text-center"},"Or you can try to ",s.a.createElement("a",{className:"not-found-link",href:"/login"},"login")," again.."))}}]),a}(n.Component)),$=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).getTheUser=function(e){n.setState({loggedInUser:e},(function(){localStorage.setItem("loggedInUser",JSON.stringify(n.state.loggedInUser))}))},n.showMyRecipes=function(){u.a.get("".concat("https://justcookit.herokuapp.com","/api/profile/recipes"),{withCredentials:!0}).then((function(e){n.setState({myRecipes:e.data})}))},n.showSavedRecipes=function(){u.a.get("".concat("https://justcookit.herokuapp.com","/api/profile/savedRecipes"),{withCredentials:!0}).then((function(e){n.setState({savedRecipes:e.data})}))},n.getAllRecipe=function(e){n.setState({recipes:e})},n.getSelectedIngredients=function(e){n.setState({ingredients:e})};var s=localStorage.getItem("loggedInUser");return console.log(s),n.state={loggedInUser:s&&"undefined"!==s?JSON.parse(s):null},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(d.d,null,s.a.createElement(d.b,{exact:!0,path:"/",render:function(){return s.a.createElement(b,null)}}),s.a.createElement(d.b,{path:"/signup",render:function(t){return s.a.createElement(v,Object.assign({},t,{getUser:e.getTheUser}))}}),s.a.createElement(d.b,{path:"/login",render:function(t){return s.a.createElement(E,Object.assign({},t,{getUser:e.getTheUser,showMyRecipes:e.showMyRecipes,showSavedRecipes:e.showSavedRecipes}))}}),s.a.createElement(d.b,{path:"/logout",render:function(t){return s.a.createElement(R,Object.assign({},t,{getUser:e.getTheUser}))}}),s.a.createElement(d.b,{path:"/main",render:function(t){return s.a.createElement(K,Object.assign({},t,{getUser:e.getTheUser,user:e.state.loggedInUser,saved:e.state.savedRecipes,showMyRecipes:e.showMyRecipes,showSavedRecipes:e.showSavedRecipes}))}}),s.a.createElement(d.b,{path:"/profile",render:function(t){return s.a.createElement(S,Object.assign({},t,{user:e.state.loggedInUser,getUser:e.getTheUser,saved:e.state.savedRecipes}))},myRecipes:this.state.myRecipes,showMyRecipes:this.showMyRecipes,showSavedRecipes:this.showSavedRecipes}),s.a.createElement(d.b,{path:"/footer",render:function(t){return s.a.createElement(S,Object.assign({},t,{user:e.state.loggedInUser}))}}),s.a.createElement(d.b,{path:"/search",render:function(t){return s.a.createElement(q,Object.assign({},t,{recipes:e.state.recipes,user:e.state.loggedInUrser,liftUpRecipesSearched:e.getAllRecipe,ingredients:e.getSelectedIngredients,saved:e.state.savedRecipes,showSavedRecipes:e.showSavedRecipes}))}}),s.a.createElement(d.b,{exact:!0,path:"/recipe/:id",render:function(t){return s.a.createElement(T,Object.assign({},t,{showSavedRecipes:e.showSavedRecipes,savedRecipes:e.state.savedRecipes,user:e.state.loggedInUser}))}}),s.a.createElement(d.b,{path:"/recipe/:id/edit",render:function(t){return s.a.createElement(L,Object.assign({},t,{user:e.state.loggedInUser}))}}),s.a.createElement(d.b,{path:"/add",render:function(t){return s.a.createElement(P,Object.assign({},t,{user:e.state.loggedInUser}))}}),s.a.createElement(d.b,{exact:!0,path:"/users",render:function(t){return s.a.createElement(J,Object.assign({},t,{user:e.state.loggedInUser}))}}),s.a.createElement(d.b,{path:"/users/:id",render:function(t){return s.a.createElement(W,Object.assign({},t,{user:e.state.loggedInUser}))}}),s.a.createElement(d.b,{component:Y})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(107);i.a.render(s.a.createElement(g.a,null,s.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},41:function(e,t,a){},42:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},68:function(e,t,a){e.exports=a(108)},73:function(e,t,a){},74:function(e,t,a){},92:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[68,1,2]]]);
//# sourceMappingURL=main.37a57e07.chunk.js.map